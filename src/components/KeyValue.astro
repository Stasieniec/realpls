---
interface Props {
  items: Record<string, string | number | boolean | null>;
  compact?: boolean;
}

const { items, compact = false } = Astro.props;

function formatValue(value: string | number | boolean | null): string {
  if (value === null || value === undefined) return 'â€”';
  if (typeof value === 'boolean') return value ? 'Yes' : 'No';
  return String(value);
}
---

<dl class:list={['key-value', { 'key-value--compact': compact }]}>
  {Object.entries(items).map(([key, value]) => (
    <div class="key-value-item">
      <dt class="key">{key}</dt>
      <dd class="value">{formatValue(value)}</dd>
    </div>
  ))}
</dl>

<style>
  .key-value {
    display: grid;
    gap: var(--space-2);
  }
  
  .key-value-item {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    gap: var(--space-4);
    padding: var(--space-2) 0;
    border-bottom: 1px solid var(--color-border);
  }
  
  .key-value-item:last-child {
    border-bottom: none;
  }
  
  .key-value--compact .key-value-item {
    padding: var(--space-1) 0;
  }
  
  .key {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    flex-shrink: 0;
  }
  
  .value {
    font-size: var(--text-sm);
    color: var(--color-text);
    font-family: var(--font-mono);
    text-align: right;
    word-break: break-word;
  }
</style>

